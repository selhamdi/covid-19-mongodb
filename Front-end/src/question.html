<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <link rel="stylesheet" href="./css/question.css">
    <title>Document</title>
</head>

<body>
    <div class="quiz">
        <form>
            <div class="quiz-slide slide-pink active">
                <div class="question">
                    <p>Q1: Fiévre (Température mesurée > 38)?</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q1" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q1" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-blue">
                <div class="question">
                    <p>Q2:Toux séche?</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q2" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q2" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="quiz-slide slide-grey">
                <div class="question">
                    <p>Q3: Difficultés à respirer ?</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q3" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q3" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-red">
                <div class="question">
                    <p>Q4: Rhinite?</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q4" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q4" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-black">
                <div class="question">
                    <p>Q5: Douleur dans les muscles (courbatures)?</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q5" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q5" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-blue">
                <div class="question">
                    <p>Q6:Fatigue importante</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q6" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q6" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-grey">
                <div class="question">
                    <p>Q7: Maux de tete</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q7" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q7" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-red">
                <div class="question">
                    <p>Q8: Diarrhés</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q8" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q8" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-black">
                <div class="question">
                    <p>Q9: Nausées et/ou Vomissements</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q9" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q9" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-blue">
                <div class="question">
                    <p>Q10: Anosmie (perte de l'odorat)</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q10" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q10" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-yellow">
                <div class="question">
                    <p>Q11:Anomsie</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q11" type="radio" required>
                               <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q11" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="quiz-slide slide-grey">
                <div class="question">
                    <p>Q12:Agueusie</p>
                </div>
                <div class="answers">
                    <ul>
                        <li>
                            <label>
                                <input value="oui" name="q12" type="radio" required>
                                <span>Oui</span>
                            </label>
                        </li>
                        <li>
                            <label>
                                <input value="non" name="q12" type="radio" required>
                                <span>Non</span>
                            </label>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="quiz-slide slide-pink">
                <div>
                    <input type="button" value="Merci" onclick="question()">
    
                </div>
            </div>
        </form>

    </div>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script type="text/javascript" src="./script.js"> </script>
    <script>
        
const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
const DossierId = urlParams.get('idDossier');


console.log(DossierId);

        function question() {
           
            var q1 = document.querySelector('input[name="q1"]:checked').value;
            var q2 = document.querySelector('input[name="q2"]:checked').value;
            var q3 = document.querySelector('input[name="q3"]:checked').value;
            var q4 = document.querySelector('input[name="q4"]:checked').value;
            var q5 = document.querySelector('input[name="q5"]:checked').value;
            var q6 = document.querySelector('input[name="q6"]:checked').value;
            var q7 = document.querySelector('input[name="q7"]:checked').value;
            var q8 = document.querySelector('input[name="q8"]:checked').value;
            var q9 = document.querySelector('input[name="q9"]:checked').value;
            var q10 = document.querySelector('input[name="q10"]:checked').value;
            var q11 = document.querySelector('input[name="q11"]:checked').value;
            var q12 = document.querySelector('input[name="q12"]:checked').value;

            params = {
                q1: q1,
                q2: q2,
                q3: q3,
                q4: q4,
                q5: q5,
                q6: q6,
                q7: q7,
                q8: q8,
                q9: q9,
                q10: q10,
                q11: q11,
                q12: q12,
                DossierId:DossierId
            }
            
            params2 = {
                DossierId:DossierId,
                resultatTest:"Null"
            }
           axios.post('http://localhost:5000/add/Question', params); 
           axios.post('http://localhost:5000/api2/fichePatient', params2); 
           window.location.href = "index.html";
        }
    </script>
</body>

</html>